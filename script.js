// --- ДАННЫЕ КУРСА ДЕТОКС ДНИ 1-7, СПИСОК ПРОДУКТОВ И РЕЦЕПТЫ ---
// ВАЖНО: Замените "list_of_products.jpg", "recipes_main.jpg" и "menu_day_X.jpg" на реальные имена ваших файлов с фото!
const DETOX_DAYS_CONTENT = {
    // День 0: Список Продуктов
    "0": {
        title: "Список Продуктов",
        photoUrl: "list_of_products.jpg", // ЗАМЕНИТЕ НА ИМЯ ВАШЕГО ФАЙЛА-ФОТО
        description: `
            <p>**Курс Детокс - Мягкое очищение, начнем со списка продуктов!**</p>
            <p>ПОКУПАЙТЕ ТОЛЬКО ТЕ ПРОДУКТЫ ИЗ СПИСКА, КОТОРЫЕ:</p>
            <ul>
                <li>ЛЮБИТЕ</li>
                <li>МОЖЕТЕ СЕБЕ ПОЗВОЛИТЬ</li>
            </ul>
            <p>ПРОСМОТРИТЕ УЖЕ ИМЕЮЩИЕСЯ ПРОДУКТЫ</p>
            <p>• ЛУЧШЕ ВСЕГО ПОДОЙДУТ ПРОДУКТЫ КОТОРЫЕ ВЫДЕЛЕНЫ</p>
            
            <h3>ОВОЩИ:</h3>
            <ul>
                <li>МОРКОВЬ, ТЫКВА, ПОМИДОР, ОГУРЕЦ, СЕЛЬДЕРЕЙ, ШПИНАТ, ЛИСТЬЯ САЛАТА.</li>
                <li>ЛЮБАЯ ЗЕЛЕНЬ (ПЕТРУШКА, УКРОП, РУККОЛА, КИНЗА, И ТД)</li>
                <li>БОБОВЫЕ (ФАСОЛЬ, НУТ, ЧЕЧЕВИЦА КРАСНАЯ)</li>
                <li>ЛУК РЕПЧАТЫЙ, ЗЕЛЕНЫЙ, ПОРЕЙ. СТРУЧКОВАЯ ФАСОЛЬ, КАБАЧОК.</li>
                <li>КАПУСТА (БРОККОЛИ, ЦВЕТНАЯ), АВОКАДО.</li>
                <li>ДОМАШНЯЯ КОНСЕРВАЦИЯ (БЕЗ САХАРА И УКСУСА), В Т.Ч. КВАШЕННАЯ КАПУСТА.</li>
                <li>МАСЛИНЫ, ОЛИВКИ, ЗАМОРОЖЕННЫЕ СМЕСИ ОВОЩЕЙ.</li>
            </ul>
            <h3>ГРИБЫ:</h3>
            <ul><li>ШАМПИНЬОНЫ</li></ul>

            <h3>ФРУКТЫ:</h3>
            <ul>
                <li>ГРУША, ЯБЛОКО, МАНДАРИН, АПЕЛЬСИН, ЛИМОН, АБРИКОС, ПЕРСИК, НЕКТАРИН.</li>
                <li>ГРЕЙПФРУТ, АНАНАС, КИВИ, ФЕЙХОА.</li>
            </ul>
            <h3>ЯГОДЫ:</h3>
            <ul><li>СВЕЖИЕ ИЛИ СУХОФРУКТЫ (КРОМЕ ФИНИКОВ)</li></ul>

            <h3>ОРЕХИ, НЕ ЖАРЕНЫЕ:</h3>
            <ul><li>КЕШЬЮ, ГРЕЦКИЙ, МИНДАЛЬ, ФУНДУК, КЕДРОВЫЕ</li></ul>

            <h3>СЕМЕНА:</h3>
            <ul><li>КУНЖУТ, ЧИА, ЛЬНА</li></ul>

            <h3>КРУПЫ:</h3>
            <ul>
                <li>ГРЕЧНЕВАЯ, КУКУРУЗНАЯ, ПЕРЛОВАЯ.</li>
                <li>БУРЫЙ, КРАСНЫЙ РИС (ЛЮБОЙ НЕШЛИФОВАННЫЙ).</li>
                <li>**КИНОА** (ОЧЕНЬ РЕКОМЕНДУЕМ), АМАРАНТ.</li>
            </ul>

            <h3>МАСЛА:</h3>
            <ul><li>ТОЛЬКО НЕРАФИНИРОВАННЫЕ, ХОЛОДНОГО ОТЖИМА: ОЛИВКОВОЕ, ТЫКВЕННОЕ, КУНЖУТНОЕ, ЛЬНЯНОЕ.</li></ul>

            <p>***Программа питания «Детокс»***</p>
            <ul>
                <li>**Утром натощак** – стакан теплой воды</li>
                <li>Первый завтрак в течение часа после пробуждения</li>
                <li>Один прием пищи по объему **до 300 гр/300мл**</li>
                <li>**День 3 – полностью растительный**</li>
                <li>Со 2 по 6 день включительно – не более одного животного продукта в день</li>
            </ul>
        `
    }, 
    
    // --- НОВЫЙ БЛОК: ВСЕ РЕЦЕПТЫ ---
    "recipes": {
        title: "Сборник Рецептов Курса",
        photoUrl: "recipes_main.jpg", // ЗАМЕНИТЕ НА ИМЯ ВАШЕГО ФАЙЛА-ФОТО
        description: `
            <p>Здесь собраны все рецепты, которые помогут вам придерживаться плана питания по дням!</p>
            
            <hr><h3>1. Блюда из рыбы и морепродуктов</h3><hr>
            
            <h4>Лодочки с рыбой и овощами</h4>
            <p>**Ингредиенты:** Филе рыбы (750 г), Лук порей (100 г), Шпинат свежий (100 г), Кинза, Чеснок (3 зуб.), Масло оливковое (1 ст. л.), Соль.</p>
            <p>**Приготовление:** Измельчить в блендере шпинат, кинзу, чеснок и масло. Смешать овощи с половиной соуса. Выложить в лодочку из пергамента овощи, сверху рыбу, смазать остатком соуса. Выпекать 20-25 мин при 200°C.</p>
            
            <h4>Рыба по-азиатски (Кета)</h4>
            <p>**Ингредиенты:** Кета (1 кг), соевый соус (5 ст. л.), чеснок (3 зуб.), перец, оливковое масло (2 ст. л.), кунжут.</p>
            <p>**Приготовление:** Промыть рыбу. Смешать соус, масло, чеснок и перец. Замариновать рыбу в соусе на 1 час в холодильнике. Выложить на пергамент, посыпать кунжутом. Запекать 30-35 мин при 180°C.</p>

            <h4>Фаршированная форель</h4>
            <p>**Ингредиенты:** Форель (700 г), болгарский перец (1/3 шт.), лимон (½ шт.), помидор (1 шт.), оливковое масло (1 ст. л.), шампиньоны (3 шт.), соль, перец, зелень.</p>
            <p>**Приготовление:** Почистить рыбу, полить соком лимона, поперчить, выдержать 30 мин. Начинить рыбу смесью из измельченных овощей, зелени и масла. Завернуть в фольгу и запекать 30 мин при 200°C.</p>

            <h4>Теплый салат с лососем и авокадо</h4>
            <p>**Ингредиенты:** Лосось филе (100 г), Авокадо (30 г), Шпинат и руккола (50 г).</p>
            <p>**Приготовление:** Лосось приготовить на пару или запечь (25 мин при 200°C). Нарезать авокадо. Смесь зелени выложить на тарелку, добавить авокадо и кусочки лосося. Соль и перец по вкусу.</p>

            <h4>Овощное спагетти с креветками</h4>
            <p>**Ингредиенты:** Кабачок/цукини (1 шт.), Креветки (150 г), Чеснок (2 зуб.), Соевый соус (1 ст. л.), Соль, перец.</p>
            <p>**Приготовление:** Сделать пасту из кабачка. Обжарить лапшу и перец 4-6 мин на сухой сковороде. На другой сковороде
        `
    },
    
    // ДОБАВЛЕННЫЕ ЗАГЛУШКИ ДЛЯ КОРРЕКТНОЙ РАБОТЫ КНОПОК 1-7 ДНЕЙ
    "1": { title: "День 1: Ваш План", description: "<p>План на День 1 пока отсутствует в данных. Скоро будет добавлен!</p>", photoUrl: "menu_day_1.jpg" },
    "2": { title: "День 2: Ваш План", description: "<p>План на День 2 пока отсутствует в данных. Скоро будет добавлен!</p>", photoUrl: "menu_day_2.jpg" },
    "3": { title: "День 3: Полностью Растительный", description: "<p>План на День 3 (полностью растительный) пока отсутствует в данных. Скоро будет добавлен!</p>", photoUrl: "menu_day_3.jpg" },
    "4": { title: "День 4: Ваш План", description: "<p>План на День 4 пока отсутствует в данных. Скоро будет добавлен!</p>", photoUrl: "menu_day_4.jpg" },
    "5": { title: "День 5: Ваш План", description: "<p>План на День 5 пока отсутствует в данных. Скоро будет добавлен!</p>", photoUrl: "menu_day_5.jpg" },
    "6": { title: "День 6: Ваш План", description: "<p>План на День 6 пока отсутствует в данных. Скоро будет добавлен!</p>", photoUrl: "menu_day_6.jpg" },
    "7": { title: "День 7: Завершение Курса", description: "<p>План на День 7 и рекомендации по выходу пока отсутствуют в данных. Скоро будут добавлены!</p>", photoUrl: "menu_day_7.jpg" }
}; // Конец объекта DETOX_DAYS_CONTENT

// --- JAVASCRIPT LOGIC FOR SCREEN SWITCHING AND CONTENT LOADING ---

const appContainer = document.getElementById('app-container');
const screenDetox = document.getElementById('screen-detox');
const screenDayDetail = document.getElementById('screen-day-detail');
const dayDetailTitle = document.getElementById('day-detail-title');
const dayContent = document.getElementById('day-content');
const detoxMenu = document.getElementById('detox-menu');
const backButton = document.querySelector('.back-button');
const footerNavButtons = document.querySelectorAll('#footer-nav .nav-button');

// Функция для переключения между основными экранами (Курс, Результаты, Бонусы)
function switchMainScreen(targetId) {
    document.querySelectorAll('.screen').forEach(screen => {
        screen.classList.add('hidden');
        screen.classList.remove('active');
    });
    document.getElementById(targetId).classList.remove('hidden');
    document.getElementById(targetId).classList.add('active');
    
    // Обновляем активное состояние в нижней навигации
    footerNavButtons.forEach(button => {
        button.classList.remove('active');
        if (button.getAttribute('data-target') === targetId) {
            button.classList.add('active');
        }
    });
    
    // Скрываем детальный экран при переключении на другие основные экраны
    if (targetId !== 'screen-detox') {
        screenDayDetail.classList.add('hidden');
    }
}

// Функция для загрузки и отображения контента для определенного дня/раздела
function loadDayContent(dayKey) {
    const content = DETOX_DAYS_CONTENT[dayKey];
    if (content) {
        dayDetailTitle.textContent = content.title;
        
        // Создаем HTML для изображения и контента
        // Добавлен простой обработчик ошибки, если фото не найдено
        const photoHtml = content.photoUrl ? 
            `<p><img src="${content.photoUrl}" alt="${content.title}" onerror="this.style.display='none'; this.closest('p').style.display='none';" style="max-width: 100%; height: auto; border-radius: 8px; margin-bottom: 15px;"></p>` : 
            '';

        dayContent.innerHTML = photoHtml + content.description;
        
        // Переключаем экраны: используем switchMainScreen, но это экран деталей, поэтому просто прячем главный и показываем детальный
        screenDetox.classList.add('hidden');
        screenDayDetail.classList.remove('hidden');
        
        // Сбрасываем прокрутку, чтобы начать с верхней части контента дня
        screenDayDetail.scrollTop = 0;
    }
}

// 1. ОБ
